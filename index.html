<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>نموذج إرسال بيانات</title>
</head>
<body>
<h3>نموذج إرسال بيانات</h3>
<form id="myForm">
  الاسم: <input type="text" name="name" required><br><br>
  البريد الإلكتروني: <input type="email" name="email" required><br><br>
  الرسالة:<br>
  <textarea name="message" rows="5" cols="30" required></textarea><br><br>
  <button type="submit">إرسال</button>
</form>
<p id="response"></p>

<script>
const scriptURL = 'https://script.google.com/macros/s/AKfycbxtHQ1p7ZWhPY9yeJadXyZp7yhFAlAO5oKXnxivokG6d-u_8w28UuyaEsA5_69BOigLSA/exec';

const form = document.getElementById('myForm');

form.addEventListener('submit', e => {
  e.preventDefault();
  const formData = new FormData(form);

  fetch(scriptURL, {
    method: 'POST',
    body: JSON.stringify({
      name: formData.get('name'),
      email: formData.get('email'),
      message: formData.get('message')
    }),
    headers: {
      'Content-Type': 'application/json'
    }
  })
  .then(response => response.text())
  .then(text => {
    document.getElementById('response').innerText = text;
    form.reset();
  })
  .catch(error => {
    document.getElementById('response').innerText = 'حدث خطأ: ' + error.message;
  });
});
</script>
</body>
</html>
